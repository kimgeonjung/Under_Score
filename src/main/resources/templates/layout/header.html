<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thtmeleaf/layout">
<th:block th:fragment="headerLayout">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" th:href="@{/assets/favicon.ico}" />
    <link th:href="@{/css/header.css}" rel="stylesheet" />
    <style>
        .btnc {
            background-color: lightgray;
            border: 0;
            padding: 10px 15px;
            width: 100%;
        }
        .btnc:hover {
            background-color: #999;
        }
    </style>
</head>
<body>
<header>
    <div class="inner" id="menu">
        <h1><a th:href="@{/}">Under Score</a></h1>

        <ul id="gnb">
            <li><a th:href="@{/shop}">Shop</a>
                <ul>
                    <li><a th:href="@{/shop/items(category='Tops')}">Tops</a></li>
                    <li><a th:href="@{/shop/items(category='Outerwear')}">Outerwear</a></li>
                    <li><a th:href="@{/shop/items(category='Knits')}">Knits</a></li>
                    <li><a th:href="@{/shop/items(category='Shirts')}">Shirts</a></li>
                    <li><a th:href="@{/shop/items(category='Tees')}">Tees</a></li>
                    <li><a th:href="@{/shop/items(category='Pants')}">Pants</a></li>
                    <li><a th:href="@{/shop/items(category='Denim')}">Denim</a></li>
                    <li><a th:href="@{/shop/items(category='Short')}">Short</a></li>
                </ul>
            </li>
            <li><a th:href="@{/newArrivals}">New Arrivals</a></li>
            <li><a th:href="@{/sale}">Sale</a></li>
        </ul>
        <ul class="util">
            <li th:if="${session.loginUser != null}"><a th:href="@{/cart}">Cart</a></li>
            <li th:if="${session.loginUser != null}"><a th:href="@{/logout}">Logout</a></li>
            <li th:if="${session.loginUser != null}"><a th:href="@{member/update}" th:text="${session.loginUser.name}+정보수정"></a></li>

            <li th:if="${session.loginUser == null}"><a th:href="@{/member/join}">Join</a></li>
            <li th:if="${session.loginUser == null}"><a href="#" id="openLoginModal">Login</a></li>
        </ul>
    </div>
    <th:block th:replace="/member/login :: loginModal"></th:block>
<!--    <th:block th:replace="/member/findLoginId :: findLoginId"></th:block>-->
</header>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

<script th:src="@{/js/loginModal.js}"></script>
<script th:if="${#request.getAttribute('loginRequired') != null}" th:inline="javascript">
    let loginRequired = [[${loginRequired}]];
    alert(loginRequired);
    window.location.href = '/main';
</script>
</body>
</th:block>
</html>